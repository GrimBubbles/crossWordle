<!DOCTYPE html>
<html lang="cs" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dne≈°n√≠ K≈ô√≠≈æovka</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: { colors: { gray: { 850: '#1f2937', 900: '#111827', 950: '#030712' } } }
            }
        }
    </script>
    <style>
        body { background-color: #111827; color: #e5e7eb; overscroll-behavior-y: contain; }
        .crossword-grid { display: grid; gap: 1px; background-color: #374151; border: 2px solid #374151; margin: 0 auto; touch-action: manipulation; }
        .cell { position: relative; background-color: #1f2937; aspect-ratio: 1; transition: background-color 0.3s ease, color 0.3s ease; }
        .cell.black { background-color: #000000; }
        .cell.tajenka { background-color: #854d0e; color: #fef08a; } 
        .cell.active-highlight { background-color: #1e40af !important; } 
        .cell.tajenka.active-highlight { background-color: #a16207 !important; }
        .cell.check-correct { background-color: #064e3b !important; }
        .cell.check-wrong { background-color: #7f1d1d !important; }
        .cell input {
            width: 100%; height: 100%; text-align: center; font-weight: bold; text-transform: uppercase;
            border: none; background: transparent; outline: none; padding: 0; margin: 0; color: #ffffff;
            border-radius: 0; cursor: default; caret-color: transparent;
        }
        .cell input.text-correct { color: #86efac !important; }
        .cell input.text-wrong { color: #fca5a5 !important; }
        .cell-number { position: absolute; top: 0.5px; left: 1px; font-size: 0.55rem; color: #9ca3af; pointer-events: none; line-height: 1; }
        .clue-item { cursor: pointer; transition: background 0.2s; color: #d1d5db; }
        .clue-item:hover { background-color: #374151; }
        .clue-item.active-clue { background-color: #1e3a8a; border-left: 4px solid #60a5fa; }
        .modal-backdrop { background-color: rgba(0, 0, 0, 0.85); backdrop-filter: blur(4px); }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #1f2937; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 3px; }
    </style>
</head>
<body class="min-h-screen flex flex-col font-sans relative overflow-x-hidden">

    <!-- MOD√ÅLN√ç OKNO -->
    <div id="tajenka-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop opacity-0 transition-opacity duration-300">
        <div class="bg-gray-800 border-2 border-yellow-600 rounded-2xl shadow-2xl max-w-sm w-full p-6 text-center transform scale-95 transition-transform duration-300" id="tajenka-modal-content">
            <div class="text-5xl mb-4">üèÜ</div>
            <h2 class="text-2xl font-bold text-yellow-400 mb-2">Tajenka vylu≈°tƒõna!</h2>
            <p class="text-gray-300 mb-6 text-sm">Gratuluji, tajenka je spr√°vnƒõ.</p>
            <div class="bg-gray-900 p-3 rounded-lg mb-6 border border-gray-700">
                <p class="text-xs text-gray-500 uppercase tracking-widest mb-1">≈òe≈°en√≠</p>
                <p id="modal-tajenka-word" class="text-xl font-bold text-white tracking-widest">---</p>
            </div>
            <div class="flex flex-col gap-2">
                <button onclick="continueGame()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-bold transition shadow-lg text-sm">Pokraƒçovat v lu≈°tƒõn√≠</button>
                <button onclick="finishGameAuto()" class="w-full bg-gray-700 hover:bg-gray-600 text-gray-200 py-3 rounded-lg font-bold transition text-sm">Vyplnit zbytek a skonƒçit</button>
            </div>
        </div>
    </div>

    <main class="flex-grow p-1 md:p-4 blur-0 transition-all duration-300 w-full max-w-full" id="main-content">
        <div class="max-w-7xl mx-auto bg-gray-800 md:rounded-xl shadow-none md:shadow-2xl overflow-hidden min-h-[100dvh] md:min-h-[600px] border-none md:border border-gray-700 flex flex-col">
            <header class="bg-gray-900 text-white p-3 text-center border-b border-gray-700 shrink-0">
                <h1 class="text-xl md:text-3xl font-extrabold tracking-tight text-blue-400">Dne≈°n√≠ K≈ô√≠≈æovka</h1>
                <div class="mt-1 inline-block bg-gray-700 px-3 py-0.5 rounded-full text-xs border border-gray-600">
                    T√©ma: <span id="theme-display" class="font-bold text-blue-300">...</span>
                </div>
            </header>

            <div id="loading-state" class="py-20 text-center">
                <svg class="animate-spin h-10 w-10 text-blue-500 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <p class="text-gray-400 mt-4 text-sm">Generuji m≈ô√≠≈æku...</p>
            </div>

            <div id="game-content" class="hidden flex flex-col lg:flex-row h-full grow">
                <div class="flex-1 p-2 md:p-4 flex flex-col items-center justify-start lg:border-r border-gray-700 w-full">
                    <div class="w-full overflow-x-auto pb-2 flex justify-center">
                        <div id="grid-container" class="crossword-grid shadow-xl mb-4 shrink-0"></div>
                    </div>
                    <div class="flex gap-2 w-full justify-center max-w-sm shrink-0">
                        <button onclick="checkGame()" class="flex-1 bg-green-700 hover:bg-green-600 text-white py-2.5 rounded shadow font-bold transition text-sm flex items-center justify-center gap-1"><span>‚úì</span> <span class="hidden sm:inline">Zkontrolovat</span></button>
                        <button onclick="revealLetter()" class="flex-1 bg-yellow-700 hover:bg-yellow-600 text-white py-2.5 rounded shadow font-bold transition text-sm flex items-center justify-center gap-1"><span>?</span> <span class="hidden sm:inline">Pomoc</span></button>
                    </div>
                    <div id="status-msg" class="mt-2 font-bold h-6 text-center text-sm sm:text-lg transition-all duration-500 shrink-0"></div>
                </div>

                <div class="w-full lg:w-96 bg-gray-850 p-3 md:p-4 flex flex-col h-[40vh] lg:h-auto border-t lg:border-t-0 border-gray-700">
                    <h3 class="font-bold text-gray-400 mb-2 text-sm border-b border-gray-700 pb-1">LEGENDA</h3>
                    <div class="overflow-y-auto flex-1 pr-2 space-y-4 custom-scrollbar">
                        <div class="bg-yellow-900/20 p-2 rounded border border-yellow-800/40">
                            <span class="text-[10px] font-bold text-yellow-500 uppercase tracking-wider">Tajenka (svisle)</span>
                            <div id="tajenka-clue" class="font-bold text-yellow-100 text-sm mt-0.5">...</div>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4">
                            <div><h4 class="font-bold text-[10px] text-gray-500 uppercase mb-1">Vodorovnƒõ</h4><ul id="clues-across" class="space-y-1 text-xs sm:text-sm text-gray-300"></ul></div>
                            <div><h4 class="font-bold text-[10px] text-gray-500 uppercase mb-1">Svisle</h4><ul id="clues-down" class="space-y-1 text-xs sm:text-sm text-gray-300"></ul></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        const JSON_URL = 'data/daily/daily_crossword.json';
        const STORAGE_KEY_PREFIX = 'crossword_progress_'; 
        
        let gameState = { grid: [], width: 16, height: 16, words: [], tajenkaMask: [], date: '' };
        let currentDirection = 'H'; 
        let checkTimeout = null;
        let tajenkaFound = false;

        async function init() {
            try {
                const res = await fetch(`${JSON_URL}?t=${Date.now()}`);
                if (!res.ok) throw new Error("Data nedostupn√°");
                const data = await res.json();
                processData(data);
                renderGame();
                loadProgress();
                document.getElementById('loading-state').classList.add('hidden');
                document.getElementById('game-content').classList.remove('hidden');
                window.addEventListener('resize', () => {
                    clearTimeout(window.resizeTimer);
                    window.resizeTimer = setTimeout(renderGame, 100);
                });
            } catch (e) {
                console.error(e);
                document.getElementById('loading-state').innerHTML = `<p class='text-red-500 text-sm'>Chyba: ${e.message}</p>`;
            }
        }

        function processData(data) {
            document.getElementById('theme-display').innerText = data.meta.theme;
            document.getElementById('tajenka-clue').innerText = data.tajenka_clue || "Tajenka";
            gameState.width = data.meta.width;
            gameState.height = data.meta.height;
            gameState.words = data.words;
            gameState.tajenkaMask = data.tajenka_mask || [];
            gameState.date = data.meta.date || new Date().toISOString().split('T')[0];
            if (data.grid) {
                gameState.grid = data.grid.map((row, r) => row.map((char, c) => ({
                    char: char, isBlack: char === '#', isTajenka: isTajenkaCell(r, c, data.tajenka_mask),
                    number: getWordNumberAt(r, c, data.words), wordsHere: getWordsAt(r, c, data.words)
                })));
            }
        }

        function saveProgress() {
            if (!gameState.date) return;
            const progress = {};
            const inputs = document.querySelectorAll('input');
            inputs.forEach(inp => { if (inp.value) progress[`${inp.dataset.r},${inp.dataset.c}`] = inp.value; });
            const dataToSave = { values: progress, tajenkaFound: tajenkaFound };
            localStorage.setItem(STORAGE_KEY_PREFIX + gameState.date, JSON.stringify(dataToSave));
        }

        function loadProgress() {
            if (!gameState.date) return;
            const savedRaw = localStorage.getItem(STORAGE_KEY_PREFIX + gameState.date);
            if (!savedRaw) return;
            try {
                const saved = JSON.parse(savedRaw);
                const values = saved.values || {};
                for (const [key, val] of Object.entries(values)) {
                    const [r, c] = key.split(',');
                    const inp = findCell(r, c);
                    if (inp) inp.value = val;
                }
                if (saved.tajenkaFound) tajenkaFound = true;
            } catch (e) { console.error(e); }
        }

        function isTajenkaCell(r, c, mask) { return mask && mask.some(([tr, tc]) => tr === r && tc === c); }
        function getWordNumberAt(r, c, words) { const w = words.find(w => w.row === r && w.col === c); return w ? w.number : null; }
        
        function getWordsAt(r, c, words) {
            let res = { hasH: false, hasV: false };
            words.forEach(w => {
                if (w.direction === 'H' && r === w.row && c >= w.col && c < w.col + w.word.length) res.hasH = true;
                if (w.direction === 'V' && c === w.col && r >= w.row && r < w.row + w.word.length) res.hasV = true;
            });
            return res;
        }

        function renderGame() {
            const container = document.getElementById('grid-container');
            const currentValues = {};
            container.querySelectorAll('input').forEach(inp => {
                if (inp.value) currentValues[`${inp.dataset.r},${inp.dataset.c}`] = inp.value;
            });

            container.innerHTML = ''; 
            const listAcross = document.getElementById('clues-across');
            const listDown = document.getElementById('clues-down');
            
            if (listAcross.children.length === 0) renderClues(listAcross, listDown);

            container.style.gridTemplateColumns = `repeat(${gameState.width}, 1fr)`;
            
            const availableWidth = Math.min(window.innerWidth - 16, 800);
            const gapSize = 1;
            const borderSize = 4;
            let cellSize = Math.floor((availableWidth - ((gameState.width - 1) * gapSize) - borderSize) / gameState.width);
            cellSize = Math.min(32, cellSize); 
            const fontSize = Math.max(10, cellSize * 0.65) + 'px';

            gameState.grid.forEach((row, r) => {
                row.forEach((cell, c) => {
                    const div = document.createElement('div');
                    div.style.width = `${cellSize}px`; div.style.height = `${cellSize}px`;
                    
                    if (cell.isBlack) {
                        div.className = 'cell black';
                    } else {
                        div.className = `cell ${cell.isTajenka ? 'tajenka' : ''}`;
                        if (cell.number) div.innerHTML += `<span class="cell-number" style="font-size: ${Math.max(8, cellSize * 0.3)}px">${cell.number}</span>`;
                        
                        const input = document.createElement('input');
                        input.dataset.r = r; input.dataset.c = c;
                        input.dataset.correct = cell.char;
                        input.maxLength = 1;
                        input.style.fontSize = fontSize;
                        
                        if (currentValues[`${r},${c}`]) input.value = currentValues[`${r},${c}`];
                        
                        input.addEventListener('keydown', handleKeyInput);
                        input.addEventListener('mousedown', (e) => handleCellClick(e, r, c, cell.wordsHere));
                        input.addEventListener('dblclick', () => toggleDirection());
                        input.addEventListener('focus', () => highlightActiveWord(r, c));
                        input.addEventListener('input', () => {
                            saveProgress(); 
                            setTimeout(checkTajenkaLive, 100);
                        });

                        div.appendChild(input);
                    }
                    container.appendChild(div);
                });
            });
            const active = document.activeElement;
            if (active && active.tagName === 'INPUT') highlightActiveWord(+active.dataset.r, +active.dataset.c);
        }

        function renderClues(listAcross, listDown) {
            gameState.words.sort((a,b) => a.number - b.number).forEach(w => {
                const li = document.createElement('li');
                li.id = `clue-${w.number}-${w.direction}`;
                li.className = 'clue-item p-1 rounded flex gap-2';
                li.innerHTML = `<span class="font-bold text-blue-400 min-w-[1.2em] text-right">${w.number}.</span><span>${w.clue}</span>`;
                li.onclick = () => {
                    currentDirection = w.direction;
                    const inp = findCell(w.row, w.col);
                    if(inp) { 
                        // Kliknut√≠ na legendu v≈ædy skoƒç√≠ na prvn√≠ pr√°zdn√©
                        jumpToFirstEmptyOrFocus(inp, w.word.length, w.direction);
                    }
                };
                if (w.direction === 'H') listAcross.appendChild(li);
                else listDown.appendChild(li);
            });
        }

        // --- Logika Ovl√°d√°n√≠ s "Jump to Empty" ---

        function handleCellClick(e, r, c, wordsHere) {
            // Zabr√°n√≠me defaultn√≠mu focusu, abychom ho mohli ≈ô√≠dit sami
            e.preventDefault(); 

            // Chytr√° detekce smƒõru
            if (wordsHere.hasH && !wordsHere.hasV) currentDirection = 'H';
            else if (wordsHere.hasV && !wordsHere.hasH) currentDirection = 'V';
            
            // Zjist√≠me rozsah slova pro aktu√°ln√≠ smƒõr
            const range = getWordRange(r, c, currentDirection);
            
            // Logika skoku na prvn√≠ pr√°zdn√©
            let targetInput = null;
            
            // Projdeme slovo od zaƒç√°tku do konce
            for (let i = range.start; i <= range.end; i++) {
                let cellInput;
                if (currentDirection === 'H') cellInput = findCell(r, i);
                else cellInput = findCell(i, c);
                
                if (cellInput && cellInput.value === '') {
                    targetInput = cellInput;
                    break; // Na≈°li jsme prvn√≠ pr√°zdn√©, konƒç√≠me
                }
            }

            // Pokud jsme nena≈°li ≈æ√°dn√© pr√°zdn√© (slovo je pln√©), focusneme to, na co se kliklo
            if (!targetInput) {
                targetInput = e.target;
            }

            // Aplikujeme focus a highlight
            if (targetInput) {
                targetInput.focus();
                // Vyvol√°me highlight manu√°lnƒõ, proto≈æe preventDefault zru≈°il nativn√≠ focus event
                highlightActiveWord(+targetInput.dataset.r, +targetInput.dataset.c);
            }
        }

        function toggleDirection() {
            currentDirection = currentDirection === 'H' ? 'V' : 'H';
            const active = document.activeElement;
            if (active && active.tagName === 'INPUT') highlightActiveWord(+active.dataset.r, +active.dataset.c);
        }

        // Pomocn√° funkce pro skok z legendy
        function jumpToFirstEmptyOrFocus(startInput, length, direction) {
            const r = +startInput.dataset.r;
            const c = +startInput.dataset.c;
            
            let target = null;
            for (let i = 0; i < length; i++) {
                let cellInput;
                if (direction === 'H') cellInput = findCell(r, c + i);
                else cellInput = findCell(r + i, c);
                
                if (cellInput && cellInput.value === '') {
                    target = cellInput;
                    break;
                }
            }
            if (!target) target = startInput;
            target.focus();
            target.select();
        }

        // Zji≈°tƒõn√≠ rozsahu slova (pro click logiku)
        function getWordRange(r, c, direction) {
            let start = (direction === 'H') ? c : r;
            let end = start;

            // Hled√°n√≠ zaƒç√°tku
            while (true) {
                let prev = start - 1;
                let checkR = (direction === 'H') ? r : prev;
                let checkC = (direction === 'H') ? prev : c;
                if (prev < 0 || isBlackCell(checkR, checkC)) break;
                start--;
            }
            // Hled√°n√≠ konce
            const limit = (direction === 'H') ? gameState.width : gameState.height;
            while (true) {
                let next = end + 1;
                let checkR = (direction === 'H') ? r : next;
                let checkC = (direction === 'H') ? next : c;
                if (next >= limit || isBlackCell(checkR, checkC)) break;
                end++;
            }
            return { start, end };
        }

        function handleKeyInput(e) {
            const r = +e.target.dataset.r;
            const c = +e.target.dataset.c;
            clearCheckStyle(e.target);

            if (e.key.match(/^[a-zA-Z√°ƒçƒè√©ƒõ√≠≈à√≥≈ô≈°≈•√∫≈Ø√Ω≈æ√Åƒåƒé√âƒö√ç≈á√ì≈ò≈†≈§√ö≈Æ√ù≈Ω]$/)) {
                e.preventDefault();
                e.target.value = e.key.toUpperCase();
                saveProgress();
                moveFocus(r, c, 1);
                setTimeout(checkTajenkaLive, 50);
            }
            else if (e.key === 'Backspace') {
                e.preventDefault();
                if (e.target.value !== '') { e.target.value = ''; saveProgress(); }
                else moveFocusBackAndClear(r, c);
            }
            else if (e.key === 'ArrowRight') findCell(r, c + 1)?.focus();
            else if (e.key === 'ArrowLeft') findCell(r, c - 1)?.focus();
            else if (e.key === 'ArrowDown') findCell(r + 1, c)?.focus();
            else if (e.key === 'ArrowUp') findCell(r - 1, c)?.focus();
        }

        function clearCheckStyle(input) {
            input.classList.remove('text-wrong', 'text-correct');
            input.parentElement.classList.remove('check-wrong', 'check-correct');
        }

        function moveFocus(r, c, delta) {
            let nr = r, nc = c;
            if (currentDirection === 'H') nc += delta; else nr += delta;
            const nextInput = findCell(nr, nc);
            if (nextInput) nextInput.focus();
        }

        function moveFocusBackAndClear(r, c) {
            let nr = r, nc = c;
            if (currentDirection === 'H') nc -= 1; else nr -= 1;
            const prevInput = findCell(nr, nc);
            if (prevInput) {
                prevInput.focus();
                prevInput.value = '';
                saveProgress(); 
                clearCheckStyle(prevInput);
            }
        }

        function findCell(r, c) { return document.querySelector(`input[data-r="${r}"][data-c="${c}"]`); }
        function isBlackCell(r, c) {
            if (r < 0 || r >= gameState.height || c < 0 || c >= gameState.width) return true;
            return gameState.grid[r][c].isBlack;
        }

        function highlightActiveWord(r, c) {
            document.querySelectorAll('.active-highlight').forEach(el => el.classList.remove('active-highlight'));
            document.querySelectorAll('.active-clue').forEach(el => el.classList.remove('active-clue'));

            const range = getWordRange(r, c, currentDirection);

            for (let i = range.start; i <= range.end; i++) {
                let cellInput = (currentDirection === 'H') ? findCell(r, i) : findCell(i, c);
                if (cellInput) cellInput.parentElement.classList.add('active-highlight');
            }

            const activeWord = gameState.words.find(w => {
                if (w.direction !== currentDirection) return false;
                if (currentDirection === 'H') return w.row === r && c >= w.col && c < w.col + w.word.length;
                else return w.col === c && r >= w.row && r < w.row + w.word.length;
            });
            if (activeWord) {
                const clueEl = document.getElementById(`clue-${activeWord.number}-${activeWord.direction}`);
                if (clueEl) {
                    clueEl.classList.add('active-clue');
                    clueEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }
            }
        }

        function checkTajenkaLive() {
            if (tajenkaFound) return;
            const mask = gameState.tajenkaMask;
            if (!mask || mask.length === 0) return;
            let isCorrect = true;
            let solvedWord = "";
            for (let [r, c] of mask) {
                const inp = findCell(r, c);
                if (!inp || inp.value.toUpperCase() !== inp.dataset.correct) {
                    isCorrect = false;
                    break;
                }
                solvedWord += inp.dataset.correct;
            }
            if (isCorrect) {
                tajenkaFound = true;
                saveProgress();
                showTajenkaModal(solvedWord);
            }
        }

        function showTajenkaModal(word) {
            const modal = document.getElementById('tajenka-modal');
            const modalContent = document.getElementById('tajenka-modal-content');
            const mainContent = document.getElementById('main-content');
            document.getElementById('modal-tajenka-word').innerText = word;
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                modalContent.classList.remove('scale-95');
                mainContent.classList.add('blur-sm');
            }, 10);
        }

        function continueGame() {
            const modal = document.getElementById('tajenka-modal');
            const modalContent = document.getElementById('tajenka-modal-content');
            const mainContent = document.getElementById('main-content');
            modal.classList.add('opacity-0');
            modalContent.classList.add('scale-95');
            mainContent.classList.remove('blur-sm');
            setTimeout(() => { modal.classList.add('hidden'); }, 300);
        }

        function finishGameAuto() {
            continueGame();
            const inputs = document.querySelectorAll('input');
            inputs.forEach(inp => { inp.value = inp.dataset.correct; });
            saveProgress();
            checkGame();
        }

        function checkGame() {
            if (checkTimeout) { clearTimeout(checkTimeout); checkTimeout = null; }
            const inputs = document.querySelectorAll('input');
            let errors = 0;
            let empty = 0;
            inputs.forEach(i => {
                const val = i.value.toUpperCase();
                i.classList.remove('text-wrong', 'text-correct');
                i.parentElement.classList.remove('check-wrong', 'check-correct');
                if(!val) empty++;
                else if(val !== i.dataset.correct) {
                    errors++;
                    i.parentElement.classList.add('check-wrong');
                    i.classList.add('text-wrong');
                } else {
                    i.parentElement.classList.add('check-correct');
                    i.classList.add('text-correct');
                }
            });
            const status = document.getElementById('status-msg');
            if(errors === 0 && empty === 0) {
                status.innerText = "üéâ KOMPLETNƒö VYLU≈†TƒöNO! üéâ";
                status.className = "mt-4 font-bold h-8 text-center text-green-400 animate-bounce text-lg sm:text-xl";
            } else {
                status.innerText = ""; 
                checkTimeout = setTimeout(() => {
                    inputs.forEach(i => {
                        i.classList.remove('text-wrong', 'text-correct');
                        i.parentElement.classList.remove('check-wrong', 'check-correct');
                    });
                }, 3000);
            }
        }

        function revealLetter() {
            const bad = Array.from(document.querySelectorAll('input')).filter(i => i.value.toUpperCase() !== i.dataset.correct);
            if(bad.length) {
                const el = bad[Math.floor(Math.random()*bad.length)];
                el.value = el.dataset.correct;
                saveProgress();
                el.style.color = '#60a5fa'; 
                el.parentElement.style.backgroundColor = '#1e3a8a';
                setTimeout(() => {
                    el.parentElement.style.backgroundColor = '';
                    el.style.color = '#ffffff';
                    checkTajenkaLive();
                }, 1000);
            }
        }

        init();
    </script>
</body>
</html>
